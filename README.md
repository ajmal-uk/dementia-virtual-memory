# DVMA - Dementia Virtual Memory Assistant
<div align="center">
  <img src="https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/logo.png" alt="DVMA Logo" width="200" />
  <br><br>
  <h2>Dementia Virtual Memory Assistant</h2>
  <p><strong>A compassionate mobile app empowering dementia patients, caregivers, and admins</strong></p>
  <p>Built with ❤️ using <img src="https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white" alt="Flutter" /> <img src="https://img.shields.io/badge/Firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=white" alt="Firebase" /> and AI</p>
  <br>
  <div>
    <a href="#features">Features</a> •
    <a href="#screenshots">Screenshots</a> •
    <a href="#database-schema">Database</a> •
    <a href="#api-documentation">API</a> •
    <a href="#getting-started">Getting Started</a> •
    <a href="#demo">Demo</a>
  </div>
</div>

---

## 📖 About
**DVMA (Dementia Virtual Memory Assistant)** is an innovative mobile application crafted to support individuals with dementia in navigating daily life, cherishing memories, and fostering connections with loved ones and caregivers. With intuitive role-based access for **Patients**, **Caretakers**, and **Admins**, DVMA delivers real-time notifications, AI-driven chat support, and advanced face recognition to uplift the well-being of dementia patients and their support networks.

<div align="center">
  <img src="https://media.giphy.com/media/3o7btPCcdNniyf0ArS/giphy.gif" alt="Heartwarming Animation" width="200" />
  <p><em>Bringing smiles and memories to life ✨</em></p>
</div>

---

## ✨ Features
### 👤 Patient Features
- 📅 **Task Management**: Effortlessly create, edit, and track daily or recurring tasks with smart reminders
- 🤖 **AI Chat Assistant**: Powered by Gemini for personalized memory prompts and gentle task nudges
- 📸 **Memory Album**: Capture heartfelt photos and add descriptive notes to relive cherished moments
- 👨‍👩‍👧‍👦 **Family Management**: Easily add family members and set emergency contacts for peace of mind
- 📍 **Location Sharing**: Share your location securely with trusted caretakers
- 📔 **Personal Diary**: A private space for daily reflections with auto-save and thoughtful character limits
- 🔔 **Smart Notifications**: Stay informed with timely alerts for tasks, connections, and unbind requests
- 🎭 **Face Recognition**: Instantly identify family members using cutting-edge AI

### 🧑‍⚕️ Caretaker Features
- 🔗 **Connection Management**: Seamlessly connect with patients and handle requests with ease
- 👤 **Patient Monitoring**: Gain insights into tasks, location, and shared albums
- 📞 **Direct Communication**: Make calls or send messages to connected patients
- 📸 **Advanced Scanner**: Use your camera to recognize family members on the go
- 📋 **Task Oversight**: Supervise and assist with patient tasks remotely
- 📊 **Reporting System**: Submit detailed reports on patient well-being or app feedback
- 📍 **Live Tracking**: Monitor patient location in real-time for added safety

### 👨‍💼 Admin Features
- 👥 **User Management**: Oversee, edit, and manage bans/unbans for users and caretakers
- 🔔 **Global Notifications**: Broadcast announcements or send targeted alerts
- 📈 **Reports Dashboard**: Review and resolve user-submitted reports efficiently
- ⚙️ **System Settings**: Customize API endpoints and support channels
- 👤 **Account Control**: Securely manage admin accounts and permissions
- 📊 **Analytics**: Track app engagement and usage patterns for continuous improvement

<div align="center">
  <img src="https://media.giphy.com/media/l0MYt5jP1piOQNF4k/giphy.gif" alt="Feature Highlight Animation" width="150" />
  <p><em>Features that care as much as you do 💙</em></p>
</div>

---

## 📸 Screenshots
Explore the app's intuitive interfaces through these thumbnail previews. Click any image to view the full-size version in an overlay (or open in a new tab).

### Patient Interface
| Screen | Description |
|--------|-------------|
| [![Home Page](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-home-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-home-page.jpg) | Home page with task overview and quick actions |
| [![AI Chat](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-ai-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-ai-page.jpg) | AI Chat assistant for memory support |
| [![Caretaker Connections](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-caretaker-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-caretaker-page.jpg) | Caretaker connection management |
| [![Profile](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-profile-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/user-profile-page.jpg) | Patient profile with emergency contacts |

### Caretaker Interface
| Screen | Description |
|--------|-------------|
| [![Patient Dashboard](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-user-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-user-page.jpg) | Patient dashboard with task overview |
| [![Location Tracking](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-user-location-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-user-location-page.jpg) | Real-time patient location tracking |
| [![Caretaker Profile](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-profile-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/caretaker-profile-page.jpg) | Caretaker profile and settings |

### Admin Interface
| Screen | Description |
|--------|-------------|
| [![Caretaker Management](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-caretakers-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-caretakers-page.jpg) | Caretaker management dashboard |
| [![Notifications](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-notification-sent-page.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-notification-sent-page.jpg) | Global notification system |
| [![Settings](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-settings.jpg)](https://ik.imagekit.io/uthakkan/Dimentia-Memory-Assistant/admin-settings.jpg) | System configuration panel |

<div align="center">
  <img src="https://media.giphy.com/media/26ufnwz3wDUll5GU0/giphy.gif" alt="Screenshot Scroll Animation" width="150" />
</div>

---

## 🗄 Database Schema
### 📊 Collections Overview
| Collection | Purpose | Key Features |
|------------|---------|--------------|
| `user` | Patient profiles and data | Tasks, diary, family, location |
| `caretaker` | Caretaker profiles | Credentials, connections, approvals |
| `admin` | Admin accounts | System access control |
| `connections` | User-caretaker links | Status tracking, requests |
| `reports` | User reports | Issue tracking, moderation |
| `api` | System configuration | URLs, support contacts |

### 👤 User Collection
**Purpose**: Stores comprehensive patient profiles and related data.

```json
{
  "uid": "abc123def",
  "fullName": "John Doe",
  "username": "johndoe2025",
  "email": "john@example.com",
  "phoneNo": "+1234567890",
  "dob": "1950-05-15",
  "gender": "male",
  "bio": "Loves gardening and music",
  "locality": "Springfield",
  "city": "Los Angeles",
  "state": "California",
  "profileImageUrl": "https://example.com/profile.jpg",
  "isConnected": true,
  "currentConnectionId": "conn789",
  "emergencyContacts": [
    {
      "name": "Jane Doe",
      "relation": "Spouse",
      "number": "+1234567891"
    }
  ],
  "playerIds": ["oneSignalId123"],
  "isBanned": false
}
```

#### Subcollections
| Subcollection | Description | Example Document |
|---------------|-------------|------------------|
| `to_dos` | Patient tasks | `{ "task": "Take medicine", "completed": false, "dueDate": "2025-06-15T10:00:00Z" }` |
| `recurring_tasks` | Task templates | `{ "task": "Morning walk", "dailyDueTime": {"hour": 8, "min": 0} }` |
| `family_members` | Family contacts | `{ "name": "Mary Doe", "relation": "Daughter", "phone": "+1234567892" }` |
| `album` | Memory photos | `{ "title": "Birthday 2025", "imageUrl": "https://example.com/photo.jpg" }` |
| `diary` | Daily entries (doc ID = date) | `{ "content": "Had a good day today...", "createdAt": "2025-06-15T20:00:00Z" }` |
| `notifications` | User notifications | `{ "type": "connection_request", "message": "New request", "isRead": false }` |

### 🧑‍⚕️ Caretaker Collection
**Purpose**: Manages caretaker profiles and professional credentials.

```json
{
  "uid": "xyz789abc",
  "fullName": "Sarah Smith",
  "username": "sarahsmith",
  "email": "sarah@example.com",
  "phoneNo": "+0987654321",
  "profileImageUrl": "https://example.com/caretaker.jpg",
  "caregiverType": "nurse",
  "relation": "",
  "experienceYears": 5,
  "experienceBio": "5 years of elderly care experience",
  "graduationOnNursing": "BSN from UCLA",
  "graduationCertificateUrl": "https://example.com/cert.pdf",
  "isApprove": true,
  "isConnected": true,
  "currentConnectionId": "conn789",
  "playerIds": ["oneSignalId456"],
  "isBanned": false
}
```

#### Subcollections
| Subcollection | Description | Example Document |
|---------------|-------------|------------------|
| `notifications` | Caretaker notifications | `{ "type": "unbind_request", "message": "Patient wants to unbind", "isRead": false }` |

### 🔗 Connections Collection
**Purpose**: Tracks user-caretaker relationships and statuses.

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `user_uid` | String | Patient UID | "abc123def" |
| `caretaker_uid` | String | Caretaker UID | "xyz789abc" |
| `status` | String | Connection status | "accepted" |
| `timestamp` | Timestamp | Request time | "2025-06-15T10:00:00Z" |
| `confirmedBy` | String | Who confirmed | "xyz789abc" |
| `requestedBy` | String | Who requested | "abc123def" |

### 📊 Reports Collection
**Purpose**: Handles user-submitted reports for admin review.

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `sender_uid` | String | Reporter UID | "abc123def" |
| `sender_role` | String | Reporter role | "user" |
| `reported_uid` | String | Reported UID | "xyz789abc" |
| `reported_role` | String | Reported role | "caretaker" |
| `title` | String | Report title | "Inappropriate behavior" |
| `description` | String | Report details | "Caretaker was rude during call..." |
| `created_at` | Timestamp | Report time | "2025-06-15T14:30:00Z" |
| `seen` | Boolean | Admin seen status | false |

### ⚙️ API Collection
**Purpose**: Centralizes system-wide configurations.

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `apiURL` | String | Face recognition API | "https://api.dvma.app" |
| `email` | String | Support email | "support@dvma.app" |

---

## 🔌 API Documentation
### Face Recognition Endpoint
**URL**: `/recognize`
**Method**: `POST`

#### Request Body
```json
{
  "members": [
    {
      "memberName": "Jane Doe",
      "memberRelation": "Daughter",
      "memberImage": "base64_or_url",
      "memberImageUrl": "https://example.com/jane.jpg"
    }
  ],
  "imageUrl": "base64_or_url"
}
```

#### Response
```json
{
  "matchFound": true,
  "memberName": "Jane Doe",
  "memberRelation": "Daughter",
  "memberImageUrl": "https://example.com/jane.jpg",
  "confidence": 0.95
}
```

### Notification API
**URL**: `https://onesignal.com/api/v1/notifications`
**Method**: `POST`

#### Request Headers
```
Content-Type: application/json
Authorization: Basic YOUR_API_KEY
```

#### Request Body
```json
{
  "app_id": "YOUR_APP_ID",
  "include_player_ids": ["playerId1", "playerId2"],
  "contents": {"en": "Task reminder: Take medicine"},
  "priority": 10
}
```

---

## 🛠 Tech Stack
### 📱 Mobile App (Flutter)
- Framework: Flutter 3.9.2+
- State Management: StatefulWidget + Streams
- Authentication: Firebase Auth
- Database: Cloud Firestore
- Storage: Cloudinary (images)
- Notifications: OneSignal
- Maps: Google Maps Flutter
- AI: Gemini API

### 🧠 Face Recognition API (Flask)
- Backend: Flask 3.1.2
- Face Recognition: DeepFace (ArcFace model)
- Image Processing: Pillow, OpenCV
- Deployment: Gunicorn

### 🗄 Database (Firebase Firestore)
- Collections: Role-based structured data
- Real-time Updates: Live sync across devices
- Security: Firestore rules for granular access control

<div align="center">
  <img src="https://media.giphy.com/media/3o7btPCcdNniyf0ArS/giphy.gif" alt="Tech Stack Animation" width="150" />
</div>

---

## 🚀 Getting Started
### Prerequisites
- Flutter SDK: https://docs.flutter.dev/get-started/install
- Firebase Project: https://console.firebase.google.com/
- Python 3.9+: For Flask API
- Cloudinary Account: For image storage

### 1. Clone Repository
```bash
git clone [https://github.com/yourusername/dvma.git](https://github.com/yourusername/dvma.git)
cd dvma
```

### 2. Flutter App Setup
```bash
# Install dependencies
flutter pub get

# Configure Firebase
# - Add `google-services.json` (Android) and `GoogleService-Info.plist` (iOS)
#
